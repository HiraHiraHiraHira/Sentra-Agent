{
	"zh": "产出计划：请仅输出且仅输出一个工具调用块，使用 Sentra XML 协议格式：\n<sentra-tools>\n  <invoke name=\"emit_plan\">\n    <parameter name=\"overview\">任务的总体目标与策略概要</parameter>\n    <parameter name=\"steps\">[...步骤数组 JSON...]</parameter>\n  </invoke>\n</sentra-tools>\n\n概念说明：\n- MCP operations = 插件提供的具体操作；每个 operation 对应一个 aiName。\n- 你只能使用提供的 MCP operations（即 allowed_list / manifestBulleted 中列出的 aiName），视为封闭集合（closed world）。\n- 严禁发明、猜测或自由创建任何不在清单中的工具、API、系统命令或虚构操作。\n\noverview 参数：\n- 类型：string，可选。\n- 简要描述本次任务的总体目标与执行策略，避免写成逐步说明。\n  - 示例：\"分析用户需求并选择合适的工具组合执行\"。\n\nsteps 参数：\n- 类型：array（JSON 数组），必填。数组中的每一项都是一个步骤对象，结构如下：\n  - aiName: string，必须从允许列表 {{allowed_list}} 中选择。\n  - reason: string[]，必填。数组中每一项是调用该 operation 的简短理由（例如：\"需要获取多个城市的天气\"、\"为 PPT 查找配图\"）。\n  - nextStep: string，必填。明确说明当前步骤执行完后，下一步如何利用本步骤结果。\n  - draftArgs: object，必填。该步骤计划传入给工具的参数草案：\n    - 只填写该工具 inputSchema.required 中的必填字段，不要加入无关字段。\n    - 若某字段为数组类型（例如 cities、queries、keywords 等），应将多个同类目标合并到数组中一次性批量调用，而不是拆成多次单独调用（例如：\"cities\": [\"北京\", \"上海\"]）。\n  - dependsOn: number[]，可选。数组中每个数字是本步骤依赖的前置步骤下标（0 开始）。\n\n简单示例（仅示例，实际 aiName 必须来自 allowed_list）：\n<sentra-tools>\n  <invoke name=\"emit_plan\">\n    <parameter name=\"overview\">先批量查询多个城市天气，再为 PPT 搜图配图。</parameter>\n    <parameter name=\"steps\">[\n      {\n        \"aiName\": \"weather.query\",\n        \"reason\": [\"需要获取多个城市的天气\"],\n        \"nextStep\": \"根据天气结果生成汇总回复\",\n        \"draftArgs\": {\n          \"cities\": [\"北京\", \"上海\", \"广州\"],\n          \"queryType\": \"all\"\n        }\n      },\n      {\n        \"aiName\": \"image_search.query\",\n        \"reason\": [\"为 PPT 查找配图\"],\n        \"nextStep\": \"把图片结果嵌入后续内容\",\n        \"draftArgs\": {\n          \"queries\": [\"AI 办公 插画\"],\n          \"count\": 6\n        },\n        \"dependsOn\": [0]\n      }\n    ]</parameter>\n  </invoke>\n</sentra-tools>\n\n严格约束（只允许使用提供的 MCP operations）：\n- aiName 必须从允许列表中选择：{{allowed_list}}；不得使用列表外的名称，也不得修改名称。\n- steps 中每步仅包含一个工具（一个 MCP operation），必须包含 draftArgs，且只填写该 operation 所需的必填参数（inputSchema.required）。\n- 当所有 MCP operations 都明显不适用时，可以输出空计划（overview 简要说明原因，steps 为空数组），而不是创建虚构的工具或 operation。\n- reason 严格要求数组格式。\n{{require_line}}\n- 禁止使用 Markdown 代码块围栏。\n- 禁止输出多个 <sentra-tools> 块。\n- 仅输出上述块，不要输出任何解释性文字或自然语言对话。\n\n规划风格要求：\n- 计划步骤要尽量原子化、可执行，避免含糊的“处理一下”“调用相关工具”等描述。\n- 优先选择最少且必要的 MCP operations 组合，避免无意义的重复调用。\n\n计划结构示例（概念性 JSON）：\n{{schema_hint}}",
	"en": "Produce ONE AND ONLY ONE plan tool call using Sentra XML Protocol format:\n<sentra-tools>\n  <invoke name=\"emit_plan\">\n    <parameter name=\"overview\">High-level objective and strategy for the task</parameter>\n    <parameter name=\"steps\">[...steps array JSON...]</parameter>\n  </invoke>\n</sentra-tools>\n\nConcepts:\n- MCP operations are concrete actions exposed by MCP plugins; each operation corresponds to one aiName.\n- You MUST treat the provided MCP operations (allowed_list / manifestBulleted) as a CLOSED set.\n- It is forbidden to invent, guess, or create any tool, API, system command, or operation name that is not listed.\n\noverview parameter:\n- Type: string, optional.\n- Briefly describes the overall objective and high-level strategy for this run, instead of listing detailed step-by-step actions.\n  - Example: \"Analyze the user request and choose an appropriate combination of tools to fulfill it.\"\n\nsteps parameter:\n- Type: array (JSON array), REQUIRED. Each item is a step object with:\n  - aiName: string. MUST be chosen from {{allowed_list}}.\n  - reason: string[], REQUIRED. Array of short justifications for why this operation is needed (e.g., \"Need the weather for multiple cities\", \"Search images for a PPT\").\n  - nextStep: string, REQUIRED. Clearly explains how the result of this step will be used in later steps.\n  - draftArgs: object, REQUIRED. Planned arguments for this tool call:\n    - Only include required fields from the tool's input schema (inputSchema.required); do NOT add irrelevant fields.\n    - If a field is array-typed (for example cities, queries, keywords), you SHOULD merge multiple similar targets into that array and call the tool once in batch, instead of creating many separate calls (e.g., \"cities\": [\"Beijing\", \"Shanghai\"]).\n  - dependsOn: number[], optional. Each number is the index (0-based) of a previous step that this step depends on.\n\nSimple example (illustrative only; actual aiName MUST come from allowed_list):\n<sentra-tools>\n  <invoke name=\"emit_plan\">\n    <parameter name=\"overview\">First query the weather for multiple cities, then search images for a PPT.</parameter>\n    <parameter name=\"steps\">[\n      {\n        \"aiName\": \"weather.query\",\n        \"reason\": [\"Need the weather for multiple cities\"],\n        \"nextStep\": \"Summarize the weather results for the user\",\n        \"draftArgs\": {\n          \"cities\": [\"Beijing\", \"Shanghai\", \"Guangzhou\"],\n          \"queryType\": \"all\"\n        }\n      },\n      {\n        \"aiName\": \"image_search.query\",\n        \"reason\": [\"Search illustrations for a PPT\"],\n        \"nextStep\": \"Embed image results into the subsequent content\",\n        \"draftArgs\": {\n          \"queries\": [\"AI office illustration\"],\n          \"count\": 6\n        },\n        \"dependsOn\": [0]\n      }\n    ]</parameter>\n  </invoke>\n</sentra-tools>\n\nStrict constraints (ONLY use provided MCP operations):\n- aiName must be chosen from: {{allowed_list}}; you MUST NOT use any name outside the list, and you MUST NOT modify names.\n- Each step uses exactly one tool (one MCP operation) and MUST include draftArgs, containing ONLY the required fields from that operation's input schema (inputSchema.required).\n- When none of the MCP operations are suitable for the objective, you MAY output an empty plan (overview briefly explains why, steps is an empty array) instead of inventing new operations.\n- **reason field STRICTLY requires array format**\n{{require_line}}\n- DO NOT use Markdown code fences.\n- DO NOT output multiple <sentra-tools> blocks.\n- Output only the block, no extra explanatory text or natural language dialogue.\n\nPlanning style guidelines:\n- Steps should be as atomic and executable as possible, avoiding vague descriptions such as \"handle it\" or \"call some related tool\".\n- Prefer the minimal yet sufficient combination of MCP operations; avoid redundant or pointless calls.\n\nPlan structure example (conceptual JSON):\n{{schema_hint}}"
}